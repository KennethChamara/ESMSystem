<?xml version="1.0" encoding="UTF-8"?>
<!-- SQL queries -->
<Querys>

	<!-- Create table salary Query -->
	<query id="create_salary_table">
        <![CDATA[
            CREATE TABLE IF NOT EXISTS salary(
				salaryID varchar(10) not null,
				employeeID varchar(10) not null,
				employeeName varchar(20),
				month varchar(10),
				date  date,
				amount real,
				primary key (salaryID)
			)
        ]]>
	</query>

	<!-- DROP TABLE salary Query -->
	<query id="drop_table">
         <![CDATA[        
            DROP TABLE IF EXISTS salary 
        ]]>
	</query>

	<!-- Insert into salary  Query -->
	<query id="insert_salary">
        <![CDATA[
          	insert into salary (salaryID, employeeID, employeeName, month,date,amount) 
          	values (?, ?, ?, ?, ?,?)
        ]]>
	</query>

	<!-- Select a particular salary by id Query -->
	<query id="salary_by_id">
         <![CDATA[        
            select * from salary where salary.salaryID = ?
        ]]>
	</query>

	<!-- Select all salary -->
	<query id="all_salarys">
         <![CDATA[        
            select * from salary ORDER BY date, month
        ]]>
	</query>

	<!-- Delete a particular salary by id Query -->
	<query id="remove_salary">
         <![CDATA[        
            delete from salary where salary.salaryID = ?
        ]]>
	</query>
	
	<query id="search_salary">
         <![CDATA[        
             select * from salary 
			 where employeeName like ? or month like ? or salaryID like ? or employeeID like ? ESCAPE '!'
        ]]>
	</query>
	
	<!-- Update a particular salary by id Query -->
	<query id="update_salary">
         <![CDATA[        
            update salary as e 
            set e.employeeName = ?,e.month=?, e.date = ?, e.amount = ?
            where e.salaryID = ?
        ]]>
	</query>
	
		<!-- Get salary IDs Query -->
	<query id="salary_ids">
         <![CDATA[        
            select e.salaryID from salary as e
        ]]>
	</query>
	
	<!-- ============================================================================================================================ -->
	
	<query id="create_leaves">
         <![CDATA[        
           	create table leaves(
           	 leavesID varchar(10),
           	 employeeID varchar(10),
           	 noOfDate int,
           	 startDate date,
           	 endDate date,
           	 type varchar(20),
           	 reason varchar(300),
           	 sate varchar(8) default 'pendding',
           	 constraint primary key (leavesID),
           	 constraint foreign key(employeeID) references employee(Eid)
           	);
           	
        ]]>
    </query>
    
    <query id="drop_leaves">
         <![CDATA[        
           	DROP TABLE IF EXISTS leaves;
        ]]>
    </query>
	
	<query id="add_leaves">
         <![CDATA[        
            INSERT INTO leaves(leavesID,employeeID,noOfDate,startDate,endDate,type,reason) values(?,?,?,?,?,?,?);
        ]]>
    </query>
       
    <query id="get_leaves">
         <![CDATA[        
            select * from employee e, leaves l where sate='pendding' and e.Eid=l.employeeID;
        ]]>
    </query>
    
    <query id="approve_leave">
         <![CDATA[        
            update leaves set sate ='approved' where leavesID=?;
        ]]>
    </query> 
    
    <query id="leave_ids">
         <![CDATA[        
            select leavesID from leaves;
        ]]>
    </query>  
    
    <query id="getAll_attendance">
         <![CDATA[        
            select * from attendance where _date=Date(now());
        ]]>
    </query>
    
    <query id="delete_leave">
         <![CDATA[        
            delete from leaves where leavesID=?;
        ]]>
	</query> 
	        
    <query id="select_leave">
         <![CDATA[        
            select * from employee e, leaves l where e.Eid=l.employeeID and leavesID=?;
        ]]>
	</query>
	
	<!-- ============================================================================================================================ -->
	<query id="create_employee">
         <![CDATA[        
            create table IF NOT EXISTS attendance(
            	A_ID varchar(10),
            	E_ID varchar(10),
            	state varchar(10) default 'absent',
            	intime varchar(10),
            	outTime varchar(10),
            	_date date,
            	constraint primary key (A_ID)
            );
        ]]>
    </query> 
    
    <query id="drop_employee">
         <![CDATA[        
           	DROP TABLE IF EXISTS attendance;
        ]]>
    </query>
    
    <query id="get_attendance_ids">
         <![CDATA[        
           	select A_ID from attendance;
        ]]>
    </query>
    
	<query id="employee_ids">
         <![CDATA[        
            select Eid from employee;
        ]]>
    </query> isAttendanceEntered
    
    <query id="isAttendanceEntered">
         <![CDATA[        
            select * from attendance where _date = date(now());
        ]]>
    </query>

</Querys>